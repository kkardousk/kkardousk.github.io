)
# add legend elements to the plot
legend_box <- pmin(
triangle_sf$alpha_value, .7
) |>
sort() |>
enframe() |>
mutate(
normalized_values_01 = (value - min(value)) / (max(value) - min(value)),
color_bins = case_when(
normalized_values_01 <= .25 ~ '#e3cabd-10',
normalized_values_01 <= .50 ~ '#e0b69e-20',
normalized_values_01 <= .75 ~ '#db956a-30',
normalized_values_01 <=  1  ~ '#d76c21-40%',
TRUE ~ '#c7d8d0'
),
labels = word(color_bins, -1, sep = '-'),
color_bins = word(color_bins, 1, sep = '-')
) |>
select(color_bins, labels) |>
distinct() |>
ggplot(aes(x = labels, y = .5, fill = I(color_bins))) +
geom_tile() +
# coord_equal(ylim = c(1, 0), clip = 'on', expand = FALSE) +
labs(x = NULL, y = 'Percentage change vs. last year') +
ggtitle(label = '<b>Big drops along the border<b>') +
theme(
axis.title.y  = element_text(angle = 0, vjust = .5, face = 'bold'),
plot.title = element_markdown(hjust = 0, size = 18, margin = margin(t = 20, b = 20)),
axis.text.x = element_text(angle = 0, vjust = .5, face = 'bold'),
axis.text.y = element_blank(),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA),
panel.grid.major.x = element_blank(),
panel.grid.major.y = element_blank(),
legend.position = 'none'
)
legend_box
# add legend elements to the plot
legend_box <- pmin(
triangle_sf$alpha_value, .7
) |>
sort() |>
enframe() |>
mutate(
normalized_values_01 = (value - min(value)) / (max(value) - min(value)),
color_bins = case_when(
normalized_values_01 <= .25 ~ '#e3cabd-10',
normalized_values_01 <= .50 ~ '#e0b69e-20',
normalized_values_01 <= .75 ~ '#db956a-30',
normalized_values_01 <=  1  ~ '#d76c21-40%',
TRUE ~ '#c7d8d0'
),
labels = word(color_bins, -1, sep = '-'),
color_bins = word(color_bins, 1, sep = '-')
) |>
select(color_bins, labels) |>
distinct() |>
ggplot(aes(x = labels, y = .5, fill = I(color_bins))) +
geom_tile() +
# coord_equal(ylim = c(1, 0), clip = 'on', expand = FALSE) +
labs(x = NULL, y = 'Percentage change vs. last year') +
ggtitle(label = '<b>Big drops along the border<b>') +
theme(
axis.title.y  = element_text(angle = 0, vjust = .5, face = 'bold'),
plot.title = element_markdown(hjust = 0, size = 18),# margin = margin(t = 20, b = 20))
axis.ticks = element_blank(),
axis.title.y = element_blank(),
axis.text.x = element_text(angle = 0, vjust = .5, face = 'bold'),
axis.text.y = element_blank(),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA),
panel.grid.major.x = element_blank(),
panel.grid.major.y = element_blank(),
legend.position = 'none'
)
# add legend elements to the plot
legend_box <- pmin(
triangle_sf$alpha_value, .7
) |>
sort() |>
enframe() |>
mutate(
normalized_values_01 = (value - min(value)) / (max(value) - min(value)),
color_bins = case_when(
normalized_values_01 <= .25 ~ '#e3cabd-10',
normalized_values_01 <= .50 ~ '#e0b69e-20',
normalized_values_01 <= .75 ~ '#db956a-30',
normalized_values_01 <=  1  ~ '#d76c21-40%',
TRUE ~ '#c7d8d0'
),
labels = word(color_bins, -1, sep = '-'),
color_bins = word(color_bins, 1, sep = '-')
) |>
select(color_bins, labels) |>
distinct() |>
ggplot(aes(x = labels, y = .5, fill = I(color_bins))) +
geom_tile() +
# coord_equal(ylim = c(1, 0), clip = 'on', expand = FALSE) +
labs(x = NULL, y = 'Percentage change vs. last year') +
ggtitle(label = '<b>Big drops along the border<b>') +
theme(
axis.title.y  = element_text(angle = 0, vjust = .5, face = 'bold'),
plot.title = element_markdown(hjust = 0, size = 18),# margin = margin(t = 20, b = 20))
axis.ticks = element_blank(),
axis.text.x = element_text(angle = 0, vjust = .5, face = 'bold'),
axis.text.y = element_blank(),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA),
panel.grid.major.x = element_blank(),
panel.grid.major.y = element_blank(),
legend.position = 'none'
)
legend_box
legend_box <- pmin(
triangle_sf$alpha_value, .7
) |>
sort() |>
enframe() |>
mutate(
normalized_values_01 = (value - min(value)) / (max(value) - min(value)),
color_bins = case_when(
normalized_values_01 <= .25 ~ '#e3cabd-10',
normalized_values_01 <= .50 ~ '#e0b69e-20',
normalized_values_01 <= .75 ~ '#db956a-30',
normalized_values_01 <=  1  ~ '#d76c21-40%',
TRUE ~ '#c7d8d0'
),
labels = word(color_bins, -1, sep = '-'),
color_bins = word(color_bins, 1, sep = '-')
) |>
select(color_bins, labels) |>
distinct() |>
ggplot(aes(x = labels, y = .5, fill = I(color_bins))) +
geom_tile() +
labs(x = NULL, y = 'Percentage change vs. last year') +
ggtitle(label = '<b>Big drops along the border<b>') +
theme(
axis.title.y  = element_text(angle = 0, vjust = .5, face = 'bold'),
plot.title = element_markdown(hjust = 0, size = 18),
axis.ticks = element_blank(),
axis.text.x = element_text(angle = 0, vjust = .5, face = 'bold'),
axis.text.y = element_blank(),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA),
panel.grid.major.x = element_blank(),
panel.grid.major.y = element_blank(),
legend.position = 'none'
)
final_plot <- main_plot_with_qrt_circles +
geom_textbox(
data = call_outs_tibble,
aes(x = x, y = y, label = label, hjust = hjust, vjust = vjust),
family = 'Libre Franklin',
width = unit(0.2, "npc"),
fill = NA,
size = c(3, 2.5),
color = 'black',
box.colour = NA,
orientation = "upright"
)
# FIX: Use patchwork with explicit sizing
library(patchwork)
final_plot_with_legend <- (legend_box / final_plot) +
plot_layout(heights = c(1, 6)) +
theme(plot.margin = margin(0, 0, 0, 0))
final_plot_with_legend
library(cowplot)
install.packages('cowplot')
library(cowplot)
final_plot_with_legend <- plot_grid(
legend_box,
final_plot,
ncol = 1,
rel_heights = c(0.2, 1),
align = "v"
)
final_plot_with_legend
library(cowplot)
final_plot_with_legend <- plot_grid(
legend_box,
final_plot,
ncol = 1,
rel_heights = c(0.5, 1),
align = "v"
)
final_plot_with_legend
# add legend elements to the plot
legend_box <- pmin(
triangle_sf$alpha_value, .7
) |>
sort() |>
enframe() |>
mutate(
normalized_values_01 = (value - min(value)) / (max(value) - min(value)),
color_bins = case_when(
normalized_values_01 <= .25 ~ '#e3cabd-10',
normalized_values_01 <= .50 ~ '#e0b69e-20',
normalized_values_01 <= .75 ~ '#db956a-30',
normalized_values_01 <=  1  ~ '#d76c21-40%',
TRUE ~ '#c7d8d0'
),
labels = word(color_bins, -1, sep = '-'),
color_bins = word(color_bins, 1, sep = '-')
) |>
select(color_bins, labels) |>
distinct() |>
ggplot(aes(x = labels, y = .5, fill = I(color_bins))) +
geom_tile() +
# coord_equal(ylim = c(1, 0), clip = 'on', expand = FALSE) +
labs(x = NULL, y = 'Percentage change vs. last year') +
ggtitle(label = '<b>Big drops along the border<b>') +
theme(
axis.title.y  = element_text(angle = 0, vjust = .5, face = 'bold', margin(t = -5, b = 5)),
plot.title = element_markdown(hjust = 0, size = 12),
axis.text.x = element_text(vjust = .5, face = 'bold'),
axis.text.y = element_blank(),
plot.background = element_rect(fill = "white", color = NA),
panel.background = element_rect(fill = "white", color = NA),
panel.grid.major.x = element_blank(),
panel.grid.major.y = element_blank(),
legend.position = 'none'
)
final_plot <-
main_plot_with_qrt_circles +
geom_textbox(
data = call_outs_tibble,
aes(x = x, y = y, label = label, hjust = hjust, vjust = vjust),
family = 'Libre Franklin',
width = unit(0.2, "npc"),
fill = NA,
size = c(3, 2.5),
color = 'black',
box.colour = NA,
orientation = "upright"
)
# (legend_box / final_plot) + plot_layout(heights = c(.25, 4))
final_plot_with_legend <- final_plot +
annotation_custom(
grob = ggplotGrob(legend_box),
xmin = -3.5e6, xmax = 4e6,
ymin = 1.4e6, ymax = 2.1e6
)
final_plot_with_legend
final_plot_with_legend
final_plot_with_legend <- final_plot +
annotation_custom(
grob = ggplotGrob(legend_box),
# xmin = -3.5e6, xmax = 4e6,
ymin = 1.4e6, ymax = 2.1e6
)
final_plot_with_legend
final_plot_with_legend <- final_plot +
annotation_custom(
grob = ggplotGrob(legend_box),
xmin = -3.5e6, xmax = 4.5e6,
ymin = 1.1e6, ymax = 2.1e6
)
final_plot_with_legend
# (legend_box / final_plot) + plot_layout(heights = c(.25, 4))
final_plot_with_legend <- final_plot +
annotation_custom(
grob = ggplotGrob(legend_box),
xmin = -3.5e6, xmax = 4.5e6,
ymin = 1.1e6, ymax = 2.1e6
)
final_plot_with_legend
# (legend_box / final_plot) + plot_layout(heights = c(.25, 4))
final_plot_with_legend <- final_plot +
annotation_custom(
grob = ggplotGrob(legend_box),
xmin = -3.9e6, xmax = 4.5e6,
ymin = 1.1e6, ymax = 2.1e6
)
final_plot_with_legend
final_plot <-
main_plot_with_qrt_circles +
geom_textbox(
data = call_outs_tibble,
aes(x = x, y = y, label = label, hjust = hjust, vjust = vjust),
family = 'Libre Franklin',
width = unit(0.2, "npc"),
fill = NA,
size = c(3, 2.5),
color = 'black',
box.colour = NA,
orientation = "upright"
) +
theme(
plot.margin = margin(t = -20, b = 20)
)
# (legend_box / final_plot) + plot_layout(heights = c(.25, 4))
final_plot_with_legend <- final_plot +
annotation_custom(
grob = ggplotGrob(legend_box),
xmin = -2e6, xmax = 3e6,
ymin = 1.6e6, ymax = 2.1e6
)
final_plot_with_legend
legend_box
# create title plot
title_plot <- ggplot() +
labs(title = "Big drops along the border") +
theme_void() +
theme(
plot.title = element_text(hjust = 0, size = 18, face = 'bold', family = 'franklin'),
plot.margin = margin(20, 0, 5, 20)
)
# modify your legend to be more horizontal and compact
legend_box <- pmin(
triangle_sf$alpha_value, .7
) |>
sort() |>
enframe() |>
mutate(
normalized_values_01 = (value - min(value)) / (max(value) - min(value)),
color_bins = case_when(
normalized_values_01 <= .25 ~ '#e3cabd-10',
normalized_values_01 <= .50 ~ '#e0b69e-20',
normalized_values_01 <= .75 ~ '#db956a-30',
normalized_values_01 <=  1  ~ '#d76c21-40%',
TRUE ~ '#c7d8d0'
),
labels = word(color_bins, -1, sep = '-'),
color_bins = word(color_bins, 1, sep = '-')
) |>
select(color_bins, labels) |>
distinct() |>
ggplot(aes(x = labels, y = 0.5, fill = I(color_bins))) +
geom_tile(height = 0.6, width = 0.8) +
labs(subtitle = "Percentage change vs. last year") +
theme_void() +
theme(
plot.subtitle = element_text(hjust = 0, size = 10, family = 'franklin', margin = margin(5, 0, 0, 0)),
axis.text.x = element_text(size = 8, family = 'franklin', margin = margin(2, 0, 0, 0)),
plot.margin = margin(0, 0, 0, 20)
)
# create spacer plot for the gap
spacer_plot <- ggplot() + theme_void() + theme(plot.margin = margin(30, 0, 30, 0))
# modify final plot to remove top margin
final_plot <- main_plot_with_qrt_circles +
geom_textbox(
data = call_outs_tibble,
aes(x = x, y = y, label = label, hjust = hjust, vjust = vjust),
family = 'franklin',
width = unit(0.2, "npc"),
fill = NA,
size = c(3, 2.5),
color = 'black',
box.colour = NA,
orientation = "upright"
) +
theme(plot.margin = margin(0, 20, 20, 20))
# combine with proper spacing
final_plot_with_legend <- (title_plot / legend_box / spacer_plot / final_plot) +
plot_layout(heights = c(0.1, 0.15, 0.2, 1))
final_plot_with_legend
# create title plot
title_plot <- ggplot() +
labs(title = "Big drops along the border") +
theme_void() +
theme(
plot.title = element_text(hjust = 0, size = 18, face = 'bold', family = 'franklin-medium'),
plot.margin = margin(20, 0, 5, 20)
)
# modify your legend to be more horizontal and compact
legend_box <- pmin(
triangle_sf$alpha_value, .7
) |>
sort() |>
enframe() |>
mutate(
normalized_values_01 = (value - min(value)) / (max(value) - min(value)),
color_bins = case_when(
normalized_values_01 <= .25 ~ '#e3cabd-10',
normalized_values_01 <= .50 ~ '#e0b69e-20',
normalized_values_01 <= .75 ~ '#db956a-30',
normalized_values_01 <=  1  ~ '#d76c21-40%',
TRUE ~ '#c7d8d0'
),
labels = word(color_bins, -1, sep = '-'),
color_bins = word(color_bins, 1, sep = '-')
) |>
select(color_bins, labels) |>
distinct() |>
ggplot(aes(x = labels, y = 0.5, fill = I(color_bins))) +
geom_tile(height = 0.6, width = 0.8) +
labs(subtitle = "Percentage change vs. last year") +
theme_void() +
theme(
plot.subtitle = element_text(hjust = 0, size = 10, family = 'franklin-medium', margin = margin(5, 0, 0, 0)),
axis.text.x = element_text(size = 8, family = 'franklin-medium', margin = margin(2, 0, 0, 0)),
plot.margin = margin(0, 0, 0, 20)
)
# create spacer plot for the gap
spacer_plot <- ggplot() + theme_void() + theme(plot.margin = margin(30, 0, 30, 0))
# modify final plot to remove top margin
final_plot <- main_plot_with_qrt_circles +
geom_textbox(
data = call_outs_tibble,
aes(x = x, y = y, label = label, hjust = hjust, vjust = vjust),
family = 'franklin-medium',
width = unit(0.2, "npc"),
fill = NA,
size = c(3, 2.5),
color = 'black',
box.colour = NA,
orientation = "upright"
) +
theme(plot.margin = margin(0, 20, 20, 20))
# combine with proper spacing
final_plot_with_legend <- (title_plot / legend_box / spacer_plot / final_plot) +
plot_layout(heights = c(0.1, 0.15, 0.2, 1))
final_plot_with_legend
2.6e6 - 1.8e6
map_data_ca_xings |>
mutate(
ref_year = word(ref_date, 1, sep = '\\-')
) |>
filter(
traveller_type == 'Travellers' &
# geo %in% c('Niagara Falls - Queenston Bridge', 'Niagara Falls - Rainbow Bridge') &
str_detect(traveller_characteristics, 'Canadian residents')
) |>
count(ref_year, geo, crossings = value) |>
View()
library(tidyverse)
map_data_ca_xings |>
mutate(
ref_year = word(ref_date, 1, sep = '\\-')
) |>
filter(
traveller_type == 'Travellers' &
# geo %in% c('Niagara Falls - Queenston Bridge', 'Niagara Falls - Rainbow Bridge') &
str_detect(traveller_characteristics, 'Canadian residents')
) |>
count(ref_year, geo, crossings = value) |>
View()
map_data_ca_xings |>
mutate(
ref_year = word(ref_date, 1, sep = '\\-')
) |>
filter(
traveller_type == 'Travellers' &
geo %in% c('Niagara Falls - Queenston Bridge', 'Niagara Falls - Rainbow Bridge') &
str_detect(traveller_characteristics, 'Canadian residents')
) |>
count(ref_year, geo, crossings = value)
144476 + 103307 - (90202 + 56331)
(144476 + 103307 - (90202 + 56331)) / (144476 + 103307)
install.packages('reticulate')
renv::snapshot()
#|echo: false
#|message: false
#|warning: false
#|include: false
# check if the required package 'emo' is installed;
# if not, it might mean your renv environment is not fully restored.
# running `renv::restore()` will install all necessary packages
# to ensure consistent package versions for building this quarto document,
# effectively 'containerizing' your project and protecting it from future package changes.
if (!requireNamespace("emo", quietly = TRUE)) {
message("\nIt looks like your environment might not be restored.\nRun `renv::restore()` to install required packages.\n")
}
# load packages
library(xml2)
library(downlit)
library(gdtools)
library(tidyverse)
library(quarto)
library(chromote)
library(here)
library(tidycensus)
library(janitor)
library(purrr)
library(ggtext)
library(ggshadow)
library(ggiraph)
library(gfonts)
library(showtext)
library(ggborderline)
library(grid)
library(patchwork)
library(shiny)
library(rvest)
library(htmltools)
library(gt)
library(rsvg)
library(magick)
library(stringr)
library(ggimage)
library(qs)
library(emo)
font_add(family = "franklin-medium", regular = "renv/library/macos/R-4.5/aarch64-apple-darwin20/sysfonts/fonts/Libre_Franklin/static/LibreFranklin-Medium.ttf")
theme_set_custom <- function() {
# loading google Fonts
sysfonts::font_add_google("Libre Franklin", "franklin")
sysfonts::font_add(
family = "franklin-medium",
regular = "renv/library/macos/R-4.5/aarch64-apple-darwin20/sysfonts/fonts/Libre_Franklin/static/LibreFranklin-Medium.ttf"
)
showtext::showtext_auto()
# applying ggplot2 theme
ggplot2::theme_set(
ggplot2::theme_minimal(base_family = "franklin") +
ggplot2::theme(
panel.background = ggplot2::element_rect(fill = "#F9F9F9", color = NA),
plot.background = ggplot2::element_rect(fill = "#F9F9F9", color = NA)
)
)
}
theme_set_custom()
library(tidyverse)
readxl::read_excel('61387-Data.xlsx')
readxl::read_excel('/Users/kardouskarrim/Desktop/61387-Data.xlsx')
readxl::read_excel('/Users/kardouskarrim/Desktop/61387-Data.xlsx') |>
View()
readxl::read_excel('/Users/kardouskarrim/Desktop/61387-Data.xlsx', sheet = 2)
readxl::read_excel('/Users/kardouskarrim/Desktop/61387-Data.xlsx', sheet = 3)
readxl::read_excel('/Users/kardouskarrim/Desktop/61387-Data.xlsx') |>
names()
readxl::read_excel(
'/Users/kardouskarrim/Desktop/61387-Data.xlsx'
)[1]
readxl::read_excel(
'/Users/kardouskarrim/Desktop/61387-Data.xlsx'
)[2]
readxl::read_excel(
'/Users/kardouskarrim/Desktop/61387-Data.xlsx', sheet = 1
)
map(
.x =1:10,
.f = readxl::read_excel('/Users/kardouskarrim/Desktop/61387-Data.xlsx', sheet = .x) |> dim()
)
map(
.x =1:10,
.f = ~ readxl::read_excel('/Users/kardouskarrim/Desktop/61387-Data.xlsx', sheet = .x) |> dim()
)
map(
.x =1:4,
.f = ~ readxl::read_excel('/Users/kardouskarrim/Desktop/61387-Data.xlsx', sheet = .x) |> dim()
)
map(
.x =1:3,
.f = ~ readxl::read_excel('/Users/kardouskarrim/Desktop/61387-Data.xlsx', sheet = .x) |> dim()
)
::read_excel('/Users/kardouskarrim/Desktop/61387-Data.xlsx', sheet = .x) |>
readxl::read_excel(
'/Users/kardouskarrim/Desktop/61387-Data.xlsx',
sheet = 2) |>
View()
readxl::read_excel(
'/Users/kardouskarrim/Desktop/61387-Data.xlsx',
sheet = 3) |>
View()
readxl::read_excel(
'/Users/kardouskarrim/Desktop/61387-Data.xlsx',
sheet = 1) |>
View()
readxl::read_excel(
'/Users/kardouskarrim/Desktop/61387-Data.xlsx',
sheet = 3) |>
View()
2034 - 2026
url <- "https://www.nytimes.com/2025/05/23/upshot/harvard-trump-international-students.html"
raw_table <-
read_html(url) |>
html_element(css = '.svelte-5z6yzk') |>
html_table() |>
select(country = 1, perc_change = 2) |>
filter(perc_change != '')
library(rvest)
url <- "https://www.nytimes.com/2025/05/23/upshot/harvard-trump-international-students.html"
raw_table <-
read_html(url) |>
html_element(css = '.svelte-5z6yzk') |>
html_table() |>
select(country = 1, perc_change = 2) |>
filter(perc_change != '')
raw_table <-
read_html(url) |>
html_element(css = '#g-bk-YN5dwKI6joTDPg > figure > div:nth-child(2) > div > div > div > div') |>
html_table()
raw_table
raw_table <-
read_html(url) |>
html_element(css = '#g-bk-YN5dwKI6joTDPg') |>
html_table()
raw_table
raw_table <-
read_html(url) |>
html_element(css = '#g-bk-YN5dwKI6joTDPg > figure > div:nth-child(2) > div > div > div > div > div') |>
html_table()
raw_table
raw_table <-
read_html(url) |>
html_element(css = '#g-bk-YN5dwKI6joTDPg > figure > div:nth-child(2) > div > div > div > div > div')
raw_table
raw_table$node
raw_table$doc
raw_table$doc[1]
raw_table$node
raw_table$node |> read_table()
raw_table$node |> read_table2()
raw_table |> read_html()
raw_table |> read_html_live()
raw_table <-
read_html(url) |>
html_element(
css = '#g-bk-YN5dwKI6joTDPg > figure > div:nth-child(2) > div > div > div > div > div > table'
)
raw_table
raw_table <-
read_html(url) |>
html_element(
css = '.svelte-173w1yv'
) |>
html_table()
raw_table
raw_table <-
read_html(url) |>
html_element(css = 'chart-container svelte-173w1yv') |>
html_table()
raw_table <-
read_html(url) |>
html_element(css = '.chart-container svelte-173w1yv') |>
html_table()
raw_table <-
read_html(url) |>
html_element(css = '.svelte-173w1yv') |>
html_table()
raw_table
raw_table |> View()
url <- "https://www.nytimes.com/2025/05/23/upshot/harvard-trump-international-students.html"
page <- read_html(url)
page
schools <- page |> html_elements(".institution") |> html_text()
schools
students <- page |> html_elements(".total") |> html_text()
students
schools <- page |> html_elements("institution svelte-173w1yv") |> html_text()
schools
students <- page |> html_elements("table svelte-173w1yv") |> html_text()
students
students <- page |> html_elements("svelte-173w1yv") |> html_text()
students
students <- page |> html_elements(".svelte-173w1yv") |> html_text()
students
pct <- page |> html_elements("pct-label inside svelte-173w1yv") |> html_text()
pct
pct <- page |> html_elements(".pct-label inside svelte-173w1yv") |> html_text()
pct
pct <- page |> html_elements(".pct-label svelte-173w1yv") |> html_text()
pct
pct <- page |> html_elements(".pct-label") |> html_text()
pct
pct <- page |> html_elements(".=pct-label") |> html_text()
pct <- page |> html_elements("pct-label") |> html_text()
pct
schools <- page |> html_elements("lead-in svelte-173w1yv") |> html_text()
schools
schools <- page |> html_elements(".lead-in svelte-173w1yv") |> html_text()
schools
url <- "https://www.nytimes.com/2025/05/23/upshot/harvard-trump-international-students.html"
page <- read_html(url)
page
page$node
page$doc['<body>']
page$doc[<body>]
page$doc
page$doc |> list()
page$doc |> html_text()
html_text(page)
html_text(page$doc)
html_text(page$node)
html_text2(text)
html_text2(page)
raw_table <-
read_html(url) |>
html_element(xpath = '/html/body/div/div/div/div/div[2]/main/div/article/section/div[3]/section/div/div/figure/div[2]/div/div/div/div/div/table/tbody') |>
html_table()
raw_table <-
read_html(url) |>
html_element(xpath = '/html/body/div/div/div/div/div[2]/main/div/article/section/div[3]/section/div/div/figure/div[2]/div/div/div/div/div/table/tbody')
raw_table
raw_table <-
read_html(url) |>
# html_element(xpath = '/html/body/div/div/div/div/div[2]/main/div/article/section/div[3]/section/div/div/figure/div[2]/div/div/div/div/div/table/tbody')
html_element('//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div/div/div/div/div/table/tbody')
raw_table <-
read_html(url) |>
# html_element(xpath = '/html/body/div/div/div/div/div[2]/main/div/article/section/div[3]/section/div/div/figure/div[2]/div/div/div/div/div/table/tbody')
html_element(xpath = '//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div/div/div/div/div/table/tbody')
raw_table
raw_table$node
raw_table |> html_attr()
html_attr(raw_table)
html_attr(name = raw_table)
html_attrs(raw_table)
html_elements(raw_table)
html_element(raw_table)
raw_table
raw_table |> rvest::html_form_submit()
raw_table |> rvest::html_children()
raw_table |> rvest::html_element()
raw_table |> rvest::html_table()
raw_table <-
read_html(url) |>
# html_element(xpath = '/html/body/div/div/div/div/div[2]/main/div/article/section/div[3]/section/div/div/figure/div[2]/div/div/div/div/div/table/tbody')
html_element(xpath = '//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div')
raw_table
raw_table |> html_table()
html_snippet <- '
<table>
<thead><tr><th>School</th><th>Students</th><th>Pct. International</th></tr></thead>
<tbody>
<tr><td>Illinois Tech</td><td>6,571</td><td>51%</td></tr>
<tr><td>Carnegie Mellon</td><td>16,002</td><td>39%</td></tr>
...
</tbody>
</table>
'
# Parse from string
table <- read_html(html_snippet) |> html_table() |> pluck(1)
table
html_snippet <- '
<div class="chart-container svelte-173w1yv"><p class="lead-in svelte-173w1yv">As a share of full-time <select id="category-select" class="svelte-173w1yv"><!--[--><option value="both">undergrad. and grad.</option><option value="undergraduate">undergraduate</option><option value="graduate">graduate</option><!--]--></select> <span style="white-space: nowrap;">students in fall 2023</span></p> <div class="table svelte-173w1yv"><table class="svelte-173w1yv"><thead class="svelte-173w1yv"><tr class="svelte-173w1yv"><th class="label school svelte-173w1yv">School</th><th class="label students svelte-173w1yv">Students</th><th class="label pct svelte-173w1yv">Pct. International</th></tr></thead><tbody><!--[--><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Illinois Tech</td><td class="total svelte-173w1yv">6,571</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label inside svelte-173w1yv" style="">51%</span> <div class="pct-bar svelte-173w1yv" style="width: 100%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Carnegie Mellon </td><td class="total svelte-173w1yv">14,517</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(86.7258% + 5px);">44%</span> <div class="pct-bar svelte-173w1yv" style="width: 86.7258%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Stevens Tech</td><td class="total svelte-173w1yv">7,461</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(82.3373% + 5px);">42%</span> <div class="pct-bar svelte-173w1yv" style="width: 82.3373%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Northeastern </td><td class="total svelte-173w1yv">29,738</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.7801% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.7801%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">New School</td><td class="total svelte-173w1yv">8,725</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.7185% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.7185%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Columbia</td><td class="total svelte-173w1yv">28,756</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.0354% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.0354%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Johns Hopkins</td><td class="total svelte-173w1yv">16,830</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(76.1188% + 5px);">39%</span> <div class="pct-bar svelte-173w1yv" style="width: 76.1188%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">N.Y.U.</td><td class="total svelte-173w1yv">49,847</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(72.489% + 5px);">37%</span> <div class="pct-bar svelte-173w1yv" style="width: 72.489%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Clark</td><td class="total svelte-173w1yv">3,830</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(67.278% + 5px);">34%</span> <div class="pct-bar svelte-173w1yv" style="width: 67.278%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Rochester</td><td class="total svelte-173w1yv">10,109</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(65.216% + 5px);">33%</span> <div class="pct-bar svelte-173w1yv" style="width: 65.216%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Caltech</td><td class="total svelte-173w1yv">2,463</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(63.0751% + 5px);">32%</span> <div class="pct-bar svelte-173w1yv" style="width: 63.0751%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Chicago</td><td class="total svelte-173w1yv">16,499</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(61.9088% + 5px);">31%</span> <div class="pct-bar svelte-173w1yv" style="width: 61.9088%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Boston U.</td><td class="total svelte-173w1yv">29,104</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(59.5906% + 5px);">30%</span> <div class="pct-bar svelte-173w1yv" style="width: 59.5906%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">M.I.T.</td><td class="total svelte-173w1yv">11,706</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(58.323% + 5px);">30%</span> <div class="pct-bar svelte-173w1yv" style="width: 58.323%;"></div></td></tr><tr class="highlight svelte-173w1yv"><td class="institution svelte-173w1yv">Harvard</td><td class="total svelte-173w1yv">20,807</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(56.1688% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 56.1688%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.S.C. </td><td class="total svelte-173w1yv">41,648</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(55.1336% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 55.1336%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">WashU</td><td class="total svelte-173w1yv">14,282</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(55.092% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 55.092%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Penn</td><td class="total svelte-173w1yv">23,948</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(52.7203% + 5px);">27%</span> <div class="pct-bar svelte-173w1yv" style="width: 52.7203%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Brandeis</td><td class="total svelte-173w1yv">4,873</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(52.7162% + 5px);">27%</span> <div class="pct-bar svelte-173w1yv" style="width: 52.7162%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Rice</td><td class="total svelte-173w1yv">7,972</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(51.4637% + 5px);">26%</span> <div class="pct-bar svelte-173w1yv" style="width: 51.4637%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Cornell</td><td class="total svelte-173w1yv">25,334</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(51.1824% + 5px);">26%</span> <div class="pct-bar svelte-173w1yv" style="width: 51.1824%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Duke</td><td class="total svelte-173w1yv">16,557</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(49.6179% + 5px);">25%</span> <div class="pct-bar svelte-173w1yv" style="width: 49.6179%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Stanford</td><td class="total svelte-173w1yv">17,212</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(48.268% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 48.268%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Saint Louis </td><td class="total svelte-173w1yv">12,904</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.8054% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.8054%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Princeton </td><td class="total svelte-173w1yv">8,849</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.1208% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.1208%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Yale</td><td class="total svelte-173w1yv">14,854</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.0643% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.0643%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Northwestern </td><td class="total svelte-173w1yv">19,451</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.7459% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.7459%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Illinois</td><td class="total svelte-173w1yv">47,118</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.3188% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.3188%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Ga. Tech</td><td class="total svelte-173w1yv">25,178</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.1749% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.1749%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.T. Dallas</td><td class="total svelte-173w1yv">25,108</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(45.911% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 45.911%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">N.J.I.T.</td><td class="total svelte-173w1yv">10,388</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(45.8903% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 45.8903%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Mt. Holyoke </td><td class="total svelte-173w1yv">2,206</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(44.1487% + 5px);">22%</span> <div class="pct-bar svelte-173w1yv" style="width: 44.1487%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Dartmouth</td><td class="total svelte-173w1yv">6,678</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(41.6264% + 5px);">21%</span> <div class="pct-bar svelte-173w1yv" style="width: 41.6264%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Georgetown</td><td class="total svelte-173w1yv">15,453</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(39.1161% + 5px);">20%</span> <div class="pct-bar svelte-173w1yv" style="width: 39.1161%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.M.B.C.</td><td class="total svelte-173w1yv">11,523</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(39.0091% + 5px);">20%</span> <div class="pct-bar svelte-173w1yv" style="width: 39.0091%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Brown</td><td class="total svelte-173w1yv">10,832</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(38.4398% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 38.4398%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Case Western</td><td class="total svelte-173w1yv">11,143</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(38.1455% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 38.1455%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Grinnell</td><td class="total svelte-173w1yv">1,707</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(37.9978% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 37.9978%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Emory</td><td class="total svelte-173w1yv">13,565</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(36.3197% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 36.3197%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C.S.D.</td><td class="total svelte-173w1yv">40,716</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(35.7635% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 35.7635%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Washington</td><td class="total svelte-173w1yv">43,118</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(35.1749% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 35.1749%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Bentley</td><td class="total svelte-173w1yv">4,690</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(34.1334% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 34.1334%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Fran. &amp; Marshall</td><td class="total svelte-173w1yv">1,902</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8948% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8948%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Berkeley</td><td class="total svelte-173w1yv">41,572</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8415% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8415%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Denison</td><td class="total svelte-173w1yv">2,391</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8065% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8065%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">G.W.</td><td class="total svelte-173w1yv">18,049</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.3917% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.3917%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Michigan</td><td class="total svelte-173w1yv">48,167</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.1537% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.1537%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C. Irvine</td><td class="total svelte-173w1yv">35,511</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.9735% + 5px);">16%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.9735%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Tufts</td><td class="total svelte-173w1yv">11,953</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.5959% + 5px);">16%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.5959%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C. Davis </td><td class="total svelte-173w1yv">38,184</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.5245% + 5px);">15%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.5245%;"></div></td></tr><!--]--></tbody></table></div></div>
'
# Parse from string
table <- read_html(html_snippet) |> html_table() |> pluck(1)
table
# Parse from string
table <- read_html(html_snippet) |> html_table() |> pluck(2)
table
# Parse from string
table <- read_html(html_snippet) |> html_table() |> pluck(1)
html_snippet <- '
<div class="table svelte-173w1yv"><table class="svelte-173w1yv"><thead class="svelte-173w1yv"><tr class="svelte-173w1yv"><th class="label school svelte-173w1yv">School</th><th class="label students svelte-173w1yv">Students</th><th class="label pct svelte-173w1yv">Pct. International</th></tr></thead><tbody><!--[--><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Illinois Tech</td><td class="total svelte-173w1yv">6,571</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label inside svelte-173w1yv" style="">51%</span> <div class="pct-bar svelte-173w1yv" style="width: 100%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Carnegie Mellon </td><td class="total svelte-173w1yv">14,517</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(86.7258% + 5px);">44%</span> <div class="pct-bar svelte-173w1yv" style="width: 86.7258%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Stevens Tech</td><td class="total svelte-173w1yv">7,461</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(82.3373% + 5px);">42%</span> <div class="pct-bar svelte-173w1yv" style="width: 82.3373%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Northeastern </td><td class="total svelte-173w1yv">29,738</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.7801% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.7801%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">New School</td><td class="total svelte-173w1yv">8,725</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.7185% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.7185%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Columbia</td><td class="total svelte-173w1yv">28,756</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.0354% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.0354%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Johns Hopkins</td><td class="total svelte-173w1yv">16,830</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(76.1188% + 5px);">39%</span> <div class="pct-bar svelte-173w1yv" style="width: 76.1188%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">N.Y.U.</td><td class="total svelte-173w1yv">49,847</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(72.489% + 5px);">37%</span> <div class="pct-bar svelte-173w1yv" style="width: 72.489%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Clark</td><td class="total svelte-173w1yv">3,830</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(67.278% + 5px);">34%</span> <div class="pct-bar svelte-173w1yv" style="width: 67.278%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Rochester</td><td class="total svelte-173w1yv">10,109</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(65.216% + 5px);">33%</span> <div class="pct-bar svelte-173w1yv" style="width: 65.216%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Caltech</td><td class="total svelte-173w1yv">2,463</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(63.0751% + 5px);">32%</span> <div class="pct-bar svelte-173w1yv" style="width: 63.0751%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Chicago</td><td class="total svelte-173w1yv">16,499</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(61.9088% + 5px);">31%</span> <div class="pct-bar svelte-173w1yv" style="width: 61.9088%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Boston U.</td><td class="total svelte-173w1yv">29,104</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(59.5906% + 5px);">30%</span> <div class="pct-bar svelte-173w1yv" style="width: 59.5906%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">M.I.T.</td><td class="total svelte-173w1yv">11,706</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(58.323% + 5px);">30%</span> <div class="pct-bar svelte-173w1yv" style="width: 58.323%;"></div></td></tr><tr class="highlight svelte-173w1yv"><td class="institution svelte-173w1yv">Harvard</td><td class="total svelte-173w1yv">20,807</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(56.1688% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 56.1688%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.S.C. </td><td class="total svelte-173w1yv">41,648</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(55.1336% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 55.1336%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">WashU</td><td class="total svelte-173w1yv">14,282</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(55.092% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 55.092%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Penn</td><td class="total svelte-173w1yv">23,948</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(52.7203% + 5px);">27%</span> <div class="pct-bar svelte-173w1yv" style="width: 52.7203%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Brandeis</td><td class="total svelte-173w1yv">4,873</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(52.7162% + 5px);">27%</span> <div class="pct-bar svelte-173w1yv" style="width: 52.7162%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Rice</td><td class="total svelte-173w1yv">7,972</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(51.4637% + 5px);">26%</span> <div class="pct-bar svelte-173w1yv" style="width: 51.4637%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Cornell</td><td class="total svelte-173w1yv">25,334</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(51.1824% + 5px);">26%</span> <div class="pct-bar svelte-173w1yv" style="width: 51.1824%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Duke</td><td class="total svelte-173w1yv">16,557</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(49.6179% + 5px);">25%</span> <div class="pct-bar svelte-173w1yv" style="width: 49.6179%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Stanford</td><td class="total svelte-173w1yv">17,212</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(48.268% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 48.268%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Saint Louis </td><td class="total svelte-173w1yv">12,904</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.8054% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.8054%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Princeton </td><td class="total svelte-173w1yv">8,849</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.1208% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.1208%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Yale</td><td class="total svelte-173w1yv">14,854</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.0643% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.0643%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Northwestern </td><td class="total svelte-173w1yv">19,451</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.7459% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.7459%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Illinois</td><td class="total svelte-173w1yv">47,118</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.3188% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.3188%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Ga. Tech</td><td class="total svelte-173w1yv">25,178</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.1749% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.1749%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.T. Dallas</td><td class="total svelte-173w1yv">25,108</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(45.911% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 45.911%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">N.J.I.T.</td><td class="total svelte-173w1yv">10,388</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(45.8903% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 45.8903%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Mt. Holyoke </td><td class="total svelte-173w1yv">2,206</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(44.1487% + 5px);">22%</span> <div class="pct-bar svelte-173w1yv" style="width: 44.1487%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Dartmouth</td><td class="total svelte-173w1yv">6,678</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(41.6264% + 5px);">21%</span> <div class="pct-bar svelte-173w1yv" style="width: 41.6264%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Georgetown</td><td class="total svelte-173w1yv">15,453</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(39.1161% + 5px);">20%</span> <div class="pct-bar svelte-173w1yv" style="width: 39.1161%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.M.B.C.</td><td class="total svelte-173w1yv">11,523</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(39.0091% + 5px);">20%</span> <div class="pct-bar svelte-173w1yv" style="width: 39.0091%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Brown</td><td class="total svelte-173w1yv">10,832</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(38.4398% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 38.4398%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Case Western</td><td class="total svelte-173w1yv">11,143</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(38.1455% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 38.1455%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Grinnell</td><td class="total svelte-173w1yv">1,707</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(37.9978% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 37.9978%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Emory</td><td class="total svelte-173w1yv">13,565</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(36.3197% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 36.3197%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C.S.D.</td><td class="total svelte-173w1yv">40,716</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(35.7635% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 35.7635%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Washington</td><td class="total svelte-173w1yv">43,118</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(35.1749% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 35.1749%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Bentley</td><td class="total svelte-173w1yv">4,690</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(34.1334% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 34.1334%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Fran. &amp; Marshall</td><td class="total svelte-173w1yv">1,902</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8948% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8948%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Berkeley</td><td class="total svelte-173w1yv">41,572</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8415% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8415%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Denison</td><td class="total svelte-173w1yv">2,391</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8065% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8065%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">G.W.</td><td class="total svelte-173w1yv">18,049</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.3917% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.3917%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Michigan</td><td class="total svelte-173w1yv">48,167</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.1537% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.1537%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C. Irvine</td><td class="total svelte-173w1yv">35,511</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.9735% + 5px);">16%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.9735%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Tufts</td><td class="total svelte-173w1yv">11,953</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.5959% + 5px);">16%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.5959%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C. Davis </td><td class="total svelte-173w1yv">38,184</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.5245% + 5px);">15%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.5245%;"></div></td></tr><!--]--></tbody></table></div>'
# Parse from string
table <- read_html(html_snippet) |> html_table() |> pluck(1)
''
'
'
# Parse from string
table <- read_html(html_snippet) |> html_table() |> pluck(1)
'
html_snippet <- '
<div class="table svelte-173w1yv"><table class="svelte-173w1yv"><thead class="svelte-173w1yv"><tr class="svelte-173w1yv"><th class="label school svelte-173w1yv">School</th><th class="label students svelte-173w1yv">Students</th><th class="label pct svelte-173w1yv">Pct. International</th></tr></thead><tbody><!--[--><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Illinois Tech</td><td class="total svelte-173w1yv">6,571</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label inside svelte-173w1yv" style="">51%</span> <div class="pct-bar svelte-173w1yv" style="width: 100%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Carnegie Mellon </td><td class="total svelte-173w1yv">14,517</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(86.7258% + 5px);">44%</span> <div class="pct-bar svelte-173w1yv" style="width: 86.7258%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Stevens Tech</td><td class="total svelte-173w1yv">7,461</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(82.3373% + 5px);">42%</span> <div class="pct-bar svelte-173w1yv" style="width: 82.3373%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Northeastern </td><td class="total svelte-173w1yv">29,738</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.7801% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.7801%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">New School</td><td class="total svelte-173w1yv">8,725</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.7185% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.7185%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Columbia</td><td class="total svelte-173w1yv">28,756</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.0354% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.0354%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Johns Hopkins</td><td class="total svelte-173w1yv">16,830</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(76.1188% + 5px);">39%</span> <div class="pct-bar svelte-173w1yv" style="width: 76.1188%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">N.Y.U.</td><td class="total svelte-173w1yv">49,847</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(72.489% + 5px);">37%</span> <div class="pct-bar svelte-173w1yv" style="width: 72.489%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Clark</td><td class="total svelte-173w1yv">3,830</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(67.278% + 5px);">34%</span> <div class="pct-bar svelte-173w1yv" style="width: 67.278%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Rochester</td><td class="total svelte-173w1yv">10,109</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(65.216% + 5px);">33%</span> <div class="pct-bar svelte-173w1yv" style="width: 65.216%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Caltech</td><td class="total svelte-173w1yv">2,463</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(63.0751% + 5px);">32%</span> <div class="pct-bar svelte-173w1yv" style="width: 63.0751%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Chicago</td><td class="total svelte-173w1yv">16,499</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(61.9088% + 5px);">31%</span> <div class="pct-bar svelte-173w1yv" style="width: 61.9088%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Boston U.</td><td class="total svelte-173w1yv">29,104</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(59.5906% + 5px);">30%</span> <div class="pct-bar svelte-173w1yv" style="width: 59.5906%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">M.I.T.</td><td class="total svelte-173w1yv">11,706</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(58.323% + 5px);">30%</span> <div class="pct-bar svelte-173w1yv" style="width: 58.323%;"></div></td></tr><tr class="highlight svelte-173w1yv"><td class="institution svelte-173w1yv">Harvard</td><td class="total svelte-173w1yv">20,807</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(56.1688% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 56.1688%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.S.C. </td><td class="total svelte-173w1yv">41,648</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(55.1336% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 55.1336%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">WashU</td><td class="total svelte-173w1yv">14,282</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(55.092% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 55.092%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Penn</td><td class="total svelte-173w1yv">23,948</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(52.7203% + 5px);">27%</span> <div class="pct-bar svelte-173w1yv" style="width: 52.7203%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Brandeis</td><td class="total svelte-173w1yv">4,873</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(52.7162% + 5px);">27%</span> <div class="pct-bar svelte-173w1yv" style="width: 52.7162%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Rice</td><td class="total svelte-173w1yv">7,972</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(51.4637% + 5px);">26%</span> <div class="pct-bar svelte-173w1yv" style="width: 51.4637%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Cornell</td><td class="total svelte-173w1yv">25,334</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(51.1824% + 5px);">26%</span> <div class="pct-bar svelte-173w1yv" style="width: 51.1824%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Duke</td><td class="total svelte-173w1yv">16,557</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(49.6179% + 5px);">25%</span> <div class="pct-bar svelte-173w1yv" style="width: 49.6179%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Stanford</td><td class="total svelte-173w1yv">17,212</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(48.268% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 48.268%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Saint Louis </td><td class="total svelte-173w1yv">12,904</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.8054% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.8054%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Princeton </td><td class="total svelte-173w1yv">8,849</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.1208% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.1208%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Yale</td><td class="total svelte-173w1yv">14,854</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.0643% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.0643%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Northwestern </td><td class="total svelte-173w1yv">19,451</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.7459% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.7459%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Illinois</td><td class="total svelte-173w1yv">47,118</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.3188% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.3188%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Ga. Tech</td><td class="total svelte-173w1yv">25,178</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label aft-bar svelte-173w1yv" style="left: calc(46.1749% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.1749%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.T. Dallas</td><td class="total svelte-173w1yv">25,108</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(45.911% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 45.911%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">N.J.I.T.</td><td class="total svelte-173w1yv">10,388</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(45.8903% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 45.8903%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Mt. Holyoke </td><td class="total svelte-173w1yv">2,206</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(44.1487% + 5px);">22%</span> <div class="pct-bar svelte-173w1yv" style="width: 44.1487%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Dartmouth</td><td class="total svelte-173w1yv">6,678</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(41.6264% + 5px);">21%</span> <div class="pct-bar svelte-173w1yv" style="width: 41.6264%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Georgetown</td><td class="total svelte-173w1yv">15,453</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(39.1161% + 5px);">20%</span> <div class="pct-bar svelte-173w1yv" style="width: 39.1161%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.M.B.C.</td><td class="total svelte-173w1yv">11,523</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(39.0091% + 5px);">20%</span> <div class="pct-bar svelte-173w1yv" style="width: 39.0091%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Brown</td><td class="total svelte-173w1yv">10,832</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(38.4398% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 38.4398%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Case Western</td><td class="total svelte-173w1yv">11,143</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(38.1455% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 38.1455%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Grinnell</td><td class="total svelte-173w1yv">1,707</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(37.9978% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 37.9978%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Emory</td><td class="total svelte-173w1yv">13,565</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(36.3197% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 36.3197%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C.S.D.</td><td class="total svelte-173w1yv">40,716</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(35.7635% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 35.7635%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Washington</td><td class="total svelte-173w1yv">43,118</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(35.1749% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 35.1749%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Bentley</td><td class="total svelte-173w1yv">4,690</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(34.1334% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 34.1334%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Fran. &amp; Marshall</td><td class="total svelte-173w1yv">1,902</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8948% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8948%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Berkeley</td><td class="total svelte-173w1yv">41,572</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8415% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8415%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Denison</td><td class="total svelte-173w1yv">2,391</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8065% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8065%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">G.W.</td><td class="total svelte-173w1yv">18,049</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.3917% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.3917%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Michigan</td><td class="total svelte-173w1yv">48,167</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.1537% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.1537%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C. Irvine</td><td class="total svelte-173w1yv">35,511</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.9735% + 5px);">16%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.9735%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Tufts</td><td class="total svelte-173w1yv">11,953</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.5959% + 5px);">16%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.5959%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C. Davis </td><td class="total svelte-173w1yv">38,184</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.5245% + 5px);">15%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.5245%;"></div></td></tr><!--]--></tbody></table></div>'
""
# Parse from string
table <- read_html(html_snippet) |> html_table() |> pluck(1)
2
''
"
""
"""
"
'
html_snippet <- "
<div class="table svelte-173w1yv"><table class="svelte-173w1yv"><thead class="svelte-173w1yv"><tr class="svelte-173w1yv"><th class="label school svelte-173w1yv">School</th><th class="label students svelte-173w1yv">Students</th><th class="label pct svelte-173w1yv">Pct. International</th></tr></thead><tbody><!--[--><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Illinois Tech</td><td class="total svelte-173w1yv">6,571</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label inside svelte-173w1yv" style="">51%</span> <div class="pct-bar svelte-173w1yv" style="width: 100%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Carnegie Mellon </td><td class="total svelte-173w1yv">14,517</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(86.7258% + 5px);">44%</span> <div class="pct-bar svelte-173w1yv" style="width: 86.7258%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Stevens Tech</td><td class="total svelte-173w1yv">7,461</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(82.3373% + 5px);">42%</span> <div class="pct-bar svelte-173w1yv" style="width: 82.3373%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Northeastern </td><td class="total svelte-173w1yv">29,738</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.7801% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.7801%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">New School</td><td class="total svelte-173w1yv">8,725</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.7185% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.7185%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Columbia</td><td class="total svelte-173w1yv">28,756</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.0354% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.0354%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Johns Hopkins</td><td class="total svelte-173w1yv">16,830</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(76.1188% + 5px);">39%</span> <div class="pct-bar svelte-173w1yv" style="width: 76.1188%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">N.Y.U.</td><td class="total svelte-173w1yv">49,847</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(72.489% + 5px);">37%</span> <div class="pct-bar svelte-173w1yv" style="width: 72.489%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Clark</td><td class="total svelte-173w1yv">3,830</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(67.278% + 5px);">34%</span> <div class="pct-bar svelte-173w1yv" style="width: 67.278%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Rochester</td><td class="total svelte-173w1yv">10,109</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(65.216% + 5px);">33%</span> <div class="pct-bar svelte-173w1yv" style="width: 65.216%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Caltech</td><td class="total svelte-173w1yv">2,463</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(63.0751% + 5px);">32%</span> <div class="pct-bar svelte-173w1yv" style="width: 63.0751%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Chicago</td><td class="total svelte-173w1yv">16,499</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(61.9088% + 5px);">31%</span> <div class="pct-bar svelte-173w1yv" style="width: 61.9088%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Boston U.</td><td class="total svelte-173w1yv">29,104</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(59.5906% + 5px);">30%</span> <div class="pct-bar svelte-173w1yv" style="width: 59.5906%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">M.I.T.</td><td class="total svelte-173w1yv">11,706</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(58.323% + 5px);">30%</span> <div class="pct-bar svelte-173w1yv" style="width: 58.323%;"></div></td></tr><tr class="highlight svelte-173w1yv"><td class="institution svelte-173w1yv">Harvard</td><td class="total svelte-173w1yv">20,807</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(56.1688% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 56.1688%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.S.C. </td><td class="total svelte-173w1yv">41,648</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(55.1336% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 55.1336%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">WashU</td><td class="total svelte-173w1yv">14,282</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(55.092% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 55.092%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Penn</td><td class="total svelte-173w1yv">23,948</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(52.7203% + 5px);">27%</span> <div class="pct-bar svelte-173w1yv" style="width: 52.7203%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Brandeis</td><td class="total svelte-173w1yv">4,873</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(52.7162% + 5px);">27%</span> <div class="pct-bar svelte-173w1yv" style="width: 52.7162%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Rice</td><td class="total svelte-173w1yv">7,972</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(51.4637% + 5px);">26%</span> <div class="pct-bar svelte-173w1yv" style="width: 51.4637%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Cornell</td><td class="total svelte-173w1yv">25,334</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(51.1824% + 5px);">26%</span> <div class="pct-bar svelte-173w1yv" style="width: 51.1824%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Duke</td><td class="total svelte-173w1yv">16,557</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(49.6179% + 5px);">25%</span> <div class="pct-bar svelte-173w1yv" style="width: 49.6179%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Stanford</td><td class="total svelte-173w1yv">17,212</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(48.268% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 48.268%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Saint Louis </td><td class="total svelte-173w1yv">12,904</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.8054% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.8054%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Princeton </td><td class="total svelte-173w1yv">8,849</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.1208% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.1208%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Yale</td><td class="total svelte-173w1yv">14,854</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.0643% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.0643%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Northwestern </td><td class="total svelte-173w1yv">19,451</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.7459% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.7459%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Illinois</td><td class="total svelte-173w1yv">47,118</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.3188% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.3188%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Ga. Tech</td><td class="total svelte-173w1yv">25,178</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label aft-bar svelte-173w1yv" style="left: calc(46.1749% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.1749%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.T. Dallas</td><td class="total svelte-173w1yv">25,108</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(45.911% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 45.911%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">N.J.I.T.</td><td class="total svelte-173w1yv">10,388</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(45.8903% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 45.8903%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Mt. Holyoke </td><td class="total svelte-173w1yv">2,206</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(44.1487% + 5px);">22%</span> <div class="pct-bar svelte-173w1yv" style="width: 44.1487%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Dartmouth</td><td class="total svelte-173w1yv">6,678</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(41.6264% + 5px);">21%</span> <div class="pct-bar svelte-173w1yv" style="width: 41.6264%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Georgetown</td><td class="total svelte-173w1yv">15,453</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(39.1161% + 5px);">20%</span> <div class="pct-bar svelte-173w1yv" style="width: 39.1161%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.M.B.C.</td><td class="total svelte-173w1yv">11,523</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(39.0091% + 5px);">20%</span> <div class="pct-bar svelte-173w1yv" style="width: 39.0091%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Brown</td><td class="total svelte-173w1yv">10,832</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(38.4398% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 38.4398%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Case Western</td><td class="total svelte-173w1yv">11,143</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(38.1455% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 38.1455%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Grinnell</td><td class="total svelte-173w1yv">1,707</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(37.9978% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 37.9978%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Emory</td><td class="total svelte-173w1yv">13,565</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(36.3197% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 36.3197%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C.S.D.</td><td class="total svelte-173w1yv">40,716</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(35.7635% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 35.7635%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Washington</td><td class="total svelte-173w1yv">43,118</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(35.1749% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 35.1749%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Bentley</td><td class="total svelte-173w1yv">4,690</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(34.1334% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 34.1334%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Fran. &amp; Marshall</td><td class="total svelte-173w1yv">1,902</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8948% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8948%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Berkeley</td><td class="total svelte-173w1yv">41,572</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8415% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8415%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Denison</td><td class="total svelte-173w1yv">2,391</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8065% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8065%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">G.W.</td><td class="total svelte-173w1yv">18,049</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.3917% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.3917%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Michigan</td><td class="total svelte-173w1yv">48,167</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.1537% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.1537%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C. Irvine</td><td class="total svelte-173w1yv">35,511</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.9735% + 5px);">16%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.9735%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Tufts</td><td class="total svelte-173w1yv">11,953</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.5959% + 5px);">16%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.5959%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C. Davis </td><td class="total svelte-173w1yv">38,184</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.5245% + 5px);">15%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.5245%;"></div></td></tr><!--]--></tbody></table></div>"
table
# Parse from string
table <- read_html(html_snippet) |> html_table()
table
html_text <- '<tbody><!--[--><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Illinois Tech</td><td class="total svelte-173w1yv">6,571</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label inside svelte-173w1yv" style="">51%</span> <div class="pct-bar svelte-173w1yv" style="width: 100%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Carnegie Mellon </td><td class="total svelte-173w1yv">14,517</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(86.7258% + 5px);">44%</span> <div class="pct-bar svelte-173w1yv" style="width: 86.7258%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Stevens Tech</td><td class="total svelte-173w1yv">7,461</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(82.3373% + 5px);">42%</span> <div class="pct-bar svelte-173w1yv" style="width: 82.3373%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Northeastern </td><td class="total svelte-173w1yv">29,738</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.7801% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.7801%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">New School</td><td class="total svelte-173w1yv">8,725</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.7185% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.7185%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Columbia</td><td class="total svelte-173w1yv">28,756</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.0354% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.0354%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Johns Hopkins</td><td class="total svelte-173w1yv">16,830</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(76.1188% + 5px);">39%</span> <div class="pct-bar svelte-173w1yv" style="width: 76.1188%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">N.Y.U.</td><td class="total svelte-173w1yv">49,847</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(72.489% + 5px);">37%</span> <div class="pct-bar svelte-173w1yv" style="width: 72.489%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Clark</td><td class="total svelte-173w1yv">3,830</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(67.278% + 5px);">34%</span> <div class="pct-bar svelte-173w1yv" style="width: 67.278%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Rochester</td><td class="total svelte-173w1yv">10,109</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(65.216% + 5px);">33%</span> <div class="pct-bar svelte-173w1yv" style="width: 65.216%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Caltech</td><td class="total svelte-173w1yv">2,463</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(63.0751% + 5px);">32%</span> <div class="pct-bar svelte-173w1yv" style="width: 63.0751%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Chicago</td><td class="total svelte-173w1yv">16,499</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(61.9088% + 5px);">31%</span> <div class="pct-bar svelte-173w1yv" style="width: 61.9088%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Boston U.</td><td class="total svelte-173w1yv">29,104</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(59.5906% + 5px);">30%</span> <div class="pct-bar svelte-173w1yv" style="width: 59.5906%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">M.I.T.</td><td class="total svelte-173w1yv">11,706</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(58.323% + 5px);">30%</span> <div class="pct-bar svelte-173w1yv" style="width: 58.323%;"></div></td></tr><tr class="highlight svelte-173w1yv"><td class="institution svelte-173w1yv">Harvard</td><td class="total svelte-173w1yv">20,807</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(56.1688% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 56.1688%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.S.C. </td><td class="total svelte-173w1yv">41,648</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(55.1336% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 55.1336%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">WashU</td><td class="total svelte-173w1yv">14,282</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(55.092% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 55.092%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Penn</td><td class="total svelte-173w1yv">23,948</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(52.7203% + 5px);">27%</span> <div class="pct-bar svelte-173w1yv" style="width: 52.7203%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Brandeis</td><td class="total svelte-173w1yv">4,873</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(52.7162% + 5px);">27%</span> <div class="pct-bar svelte-173w1yv" style="width: 52.7162%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Rice</td><td class="total svelte-173w1yv">7,972</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(51.4637% + 5px);">26%</span> <div class="pct-bar svelte-173w1yv" style="width: 51.4637%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Cornell</td><td class="total svelte-173w1yv">25,334</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(51.1824% + 5px);">26%</span> <div class="pct-bar svelte-173w1yv" style="width: 51.1824%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Duke</td><td class="total svelte-173w1yv">16,557</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(49.6179% + 5px);">25%</span> <div class="pct-bar svelte-173w1yv" style="width: 49.6179%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Stanford</td><td class="total svelte-173w1yv">17,212</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(48.268% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 48.268%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Saint Louis </td><td class="total svelte-173w1yv">12,904</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.8054% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.8054%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Princeton </td><td class="total svelte-173w1yv">8,849</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.1208% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.1208%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Yale</td><td class="total svelte-173w1yv">14,854</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.0643% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.0643%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Northwestern </td><td class="total svelte-173w1yv">19,451</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.7459% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.7459%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Illinois</td><td class="total svelte-173w1yv">47,118</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.3188% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.3188%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Ga. Tech</td><td class="total svelte-173w1yv">25,178</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.1749% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.1749%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.T. Dallas</td><td class="total svelte-173w1yv">25,108</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(45.911% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 45.911%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">N.J.I.T.</td><td class="total svelte-173w1yv">10,388</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(45.8903% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 45.8903%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Mt. Holyoke </td><td class="total svelte-173w1yv">2,206</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(44.1487% + 5px);">22%</span> <div class="pct-bar svelte-173w1yv" style="width: 44.1487%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Dartmouth</td><td class="total svelte-173w1yv">6,678</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(41.6264% + 5px);">21%</span> <div class="pct-bar svelte-173w1yv" style="width: 41.6264%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Georgetown</td><td class="total svelte-173w1yv">15,453</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(39.1161% + 5px);">20%</span> <div class="pct-bar svelte-173w1yv" style="width: 39.1161%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.M.B.C.</td><td class="total svelte-173w1yv">11,523</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(39.0091% + 5px);">20%</span> <div class="pct-bar svelte-173w1yv" style="width: 39.0091%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Brown</td><td class="total svelte-173w1yv">10,832</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(38.4398% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 38.4398%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Case Western</td><td class="total svelte-173w1yv">11,143</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(38.1455% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 38.1455%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Grinnell</td><td class="total svelte-173w1yv">1,707</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(37.9978% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 37.9978%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Emory</td><td class="total svelte-173w1yv">13,565</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(36.3197% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 36.3197%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C.S.D.</td><td class="total svelte-173w1yv">40,716</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(35.7635% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 35.7635%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Washington</td><td class="total svelte-173w1yv">43,118</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(35.1749% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 35.1749%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Bentley</td><td class="total svelte-173w1yv">4,690</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(34.1334% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 34.1334%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Fran. &amp; Marshall</td><td class="total svelte-173w1yv">1,902</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8948% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8948%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Berkeley</td><td class="total svelte-173w1yv">41,572</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8415% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8415%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Denison</td><td class="total svelte-173w1yv">2,391</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8065% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8065%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">G.W.</td><td class="total svelte-173w1yv">18,049</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.3917% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.3917%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Michigan</td><td class="total svelte-173w1yv">48,167</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.1537% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.1537%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C. Irvine</td><td class="total svelte-173w1yv">35,511</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.9735% + 5px);">16%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.9735%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Tufts</td><td class="total svelte-173w1yv">11,953</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.5959% + 5px);">16%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.5959%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C. Davis </td><td class="total svelte-173w1yv">38,184</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.5245% + 5px);">15%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.5245%;"></div></td></tr><!--]--></tbody>'
"
'
html_snippet <- '<tbody><!--[--><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Illinois Tech</td><td class="total svelte-173w1yv">6,571</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label inside svelte-173w1yv" style="">51%</span> <div class="pct-bar svelte-173w1yv" style="width: 100%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Carnegie Mellon </td><td class="total svelte-173w1yv">14,517</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(86.7258% + 5px);">44%</span> <div class="pct-bar svelte-173w1yv" style="width: 86.7258%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Stevens Tech</td><td class="total svelte-173w1yv">7,461</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(82.3373% + 5px);">42%</span> <div class="pct-bar svelte-173w1yv" style="width: 82.3373%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Northeastern </td><td class="total svelte-173w1yv">29,738</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.7801% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.7801%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">New School</td><td class="total svelte-173w1yv">8,725</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.7185% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.7185%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Columbia</td><td class="total svelte-173w1yv">28,756</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(79.0354% + 5px);">40%</span> <div class="pct-bar svelte-173w1yv" style="width: 79.0354%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Johns Hopkins</td><td class="total svelte-173w1yv">16,830</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(76.1188% + 5px);">39%</span> <div class="pct-bar svelte-173w1yv" style="width: 76.1188%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">N.Y.U.</td><td class="total svelte-173w1yv">49,847</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(72.489% + 5px);">37%</span> <div class="pct-bar svelte-173w1yv" style="width: 72.489%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Clark</td><td class="total svelte-173w1yv">3,830</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(67.278% + 5px);">34%</span> <div class="pct-bar svelte-173w1yv" style="width: 67.278%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Rochester</td><td class="total svelte-173w1yv">10,109</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(65.216% + 5px);">33%</span> <div class="pct-bar svelte-173w1yv" style="width: 65.216%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Caltech</td><td class="total svelte-173w1yv">2,463</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(63.0751% + 5px);">32%</span> <div class="pct-bar svelte-173w1yv" style="width: 63.0751%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Chicago</td><td class="total svelte-173w1yv">16,499</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(61.9088% + 5px);">31%</span> <div class="pct-bar svelte-173w1yv" style="width: 61.9088%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Boston U.</td><td class="total svelte-173w1yv">29,104</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(59.5906% + 5px);">30%</span> <div class="pct-bar svelte-173w1yv" style="width: 59.5906%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">M.I.T.</td><td class="total svelte-173w1yv">11,706</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(58.323% + 5px);">30%</span> <div class="pct-bar svelte-173w1yv" style="width: 58.323%;"></div></td></tr><tr class="highlight svelte-173w1yv"><td class="institution svelte-173w1yv">Harvard</td><td class="total svelte-173w1yv">20,807</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(56.1688% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 56.1688%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.S.C. </td><td class="total svelte-173w1yv">41,648</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(55.1336% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 55.1336%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">WashU</td><td class="total svelte-173w1yv">14,282</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(55.092% + 5px);">28%</span> <div class="pct-bar svelte-173w1yv" style="width: 55.092%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Penn</td><td class="total svelte-173w1yv">23,948</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(52.7203% + 5px);">27%</span> <div class="pct-bar svelte-173w1yv" style="width: 52.7203%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Brandeis</td><td class="total svelte-173w1yv">4,873</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(52.7162% + 5px);">27%</span> <div class="pct-bar svelte-173w1yv" style="width: 52.7162%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Rice</td><td class="total svelte-173w1yv">7,972</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(51.4637% + 5px);">26%</span> <div class="pct-bar svelte-173w1yv" style="width: 51.4637%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Cornell</td><td class="total svelte-173w1yv">25,334</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(51.1824% + 5px);">26%</span> <div class="pct-bar svelte-173w1yv" style="width: 51.1824%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Duke</td><td class="total svelte-173w1yv">16,557</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(49.6179% + 5px);">25%</span> <div class="pct-bar svelte-173w1yv" style="width: 49.6179%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Stanford</td><td class="total svelte-173w1yv">17,212</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(48.268% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 48.268%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Saint Louis </td><td class="total svelte-173w1yv">12,904</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.8054% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.8054%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Princeton </td><td class="total svelte-173w1yv">8,849</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.1208% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.1208%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Yale</td><td class="total svelte-173w1yv">14,854</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(47.0643% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 47.0643%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Northwestern </td><td class="total svelte-173w1yv">19,451</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.7459% + 5px);">24%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.7459%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Illinois</td><td class="total svelte-173w1yv">47,118</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.3188% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.3188%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Ga. Tech</td><td class="total svelte-173w1yv">25,178</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(46.1749% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 46.1749%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.T. Dallas</td><td class="total svelte-173w1yv">25,108</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(45.911% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 45.911%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">N.J.I.T.</td><td class="total svelte-173w1yv">10,388</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(45.8903% + 5px);">23%</span> <div class="pct-bar svelte-173w1yv" style="width: 45.8903%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Mt. Holyoke </td><td class="total svelte-173w1yv">2,206</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(44.1487% + 5px);">22%</span> <div class="pct-bar svelte-173w1yv" style="width: 44.1487%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Dartmouth</td><td class="total svelte-173w1yv">6,678</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(41.6264% + 5px);">21%</span> <div class="pct-bar svelte-173w1yv" style="width: 41.6264%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Georgetown</td><td class="total svelte-173w1yv">15,453</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(39.1161% + 5px);">20%</span> <div class="pct-bar svelte-173w1yv" style="width: 39.1161%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.M.B.C.</td><td class="total svelte-173w1yv">11,523</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(39.0091% + 5px);">20%</span> <div class="pct-bar svelte-173w1yv" style="width: 39.0091%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Brown</td><td class="total svelte-173w1yv">10,832</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(38.4398% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 38.4398%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Case Western</td><td class="total svelte-173w1yv">11,143</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(38.1455% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 38.1455%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Grinnell</td><td class="total svelte-173w1yv">1,707</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(37.9978% + 5px);">19%</span> <div class="pct-bar svelte-173w1yv" style="width: 37.9978%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Emory</td><td class="total svelte-173w1yv">13,565</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(36.3197% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 36.3197%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C.S.D.</td><td class="total svelte-173w1yv">40,716</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(35.7635% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 35.7635%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Washington</td><td class="total svelte-173w1yv">43,118</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(35.1749% + 5px);">18%</span> <div class="pct-bar svelte-173w1yv" style="width: 35.1749%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Bentley</td><td class="total svelte-173w1yv">4,690</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(34.1334% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 34.1334%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Fran. &amp; Marshall</td><td class="total svelte-173w1yv">1,902</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8948% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8948%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Berkeley</td><td class="total svelte-173w1yv">41,572</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8415% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8415%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Denison</td><td class="total svelte-173w1yv">2,391</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.8065% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.8065%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">G.W.</td><td class="total svelte-173w1yv">18,049</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.3917% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.3917%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Michigan</td><td class="total svelte-173w1yv">48,167</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(33.1537% + 5px);">17%</span> <div class="pct-bar svelte-173w1yv" style="width: 33.1537%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C. Irvine</td><td class="total svelte-173w1yv">35,511</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.9735% + 5px);">16%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.9735%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">Tufts</td><td class="total svelte-173w1yv">11,953</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.5959% + 5px);">16%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.5959%;"></div></td></tr><tr class="svelte-173w1yv"><td class="institution svelte-173w1yv">U.C. Davis </td><td class="total svelte-173w1yv">38,184</td><td class="pct-bar-container svelte-173w1yv"><span class="pct-label after-bar svelte-173w1yv" style="left: calc(30.5245% + 5px);">15%</span> <div class="pct-bar svelte-173w1yv" style="width: 30.5245%;"></div></td></tr><!--]--></tbody>'
# Parse from string
table <- read_html(html_snippet) |> html_table()
'
table
html_snippet <- '#g-bk-YN5dwKI6joTDPg > figure > div:nth-child(2) > div > div > div > div > div > table > tbody'
# Parse from string
table <- read_html(html_snippet) |> html_table()
table
# Parse from string
table <- read_html(html_snippet)
table
str_length(table)
tail(table)
tail(table[1])
table |> as_tibble()
table[1] |> as_tibble()
table$doc |> as_tibble()
table$node |> as_tibble()
table$node |> as.data.frame()
url <- "https://www.nytimes.com/2025/05/23/upshot/harvard-trump-international-students.html"
page <- read_html(url)
html_element(xpath = '//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div/div/div/div/div/table/tbody/tr[1]/td[1]')
page |> html_element(xpath = '//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div/div/div/div/div/table/tbody/tr[1]/td[1]')
page |> html_element(css =  = '//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div/div/div/div/div/table/tbody/tr[1]/td[1]')
page |> html_element(css  = '//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div/div/div/div/div/table/tbody/tr[1]/td[1]')
page |> html_element(css  = '//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div/div/div/div/div/table/tbody/')
page |> html_element(css  = '//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div/div/div/div/div/table/tbody')
page |> html_element(xpath  = '//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div/div/div/div/div/table/tbody')
page |> html_element(xpath  = '//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div/div/div/div/div/table/tbody') |>
html_text()
rm(html_text)
page |> html_element(xpath  = '//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div/div/div/div/div/table/tbody') |>
html_text()
html_element(xpath  = '//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div/div/div/div/div/table/tbody')
page |> html_element(xpath  = '//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div/div/div/div/div/table/tbody')
table_node <- page |> html_element(xpath = '//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div/div/div/div/div/table')
table_df <- table_node |> html_table()
table_df
url <- "https://www.nytimes.com/2025/05/23/upshot/harvard-trump-international-students.html"
page <- read_html(url)
# Correct table extraction
table <- page |>
html_element(xpath = '//*[@id="g-bk-YN5dwKI6joTDPg"]/figure/div[2]/div/div/div/div/div/table') |>
html_table()
# Clean column names
table <- table |> janitor::clean_names()
# Print
print(table)
url <- "https://www.nytimes.com/2025/05/23/upshot/harvard-trump-international-students.html"
page <- read_html(url)
schools <- page |> html_elements(".institution") |> html_text()
schools
schools <- page |> html_elements(".institution svelte-173w1yv") |> html_text()
schools
schools <- page |> html_elements("institution svelte-173w1yv") |> html_text()
schools
schools <- page |> html_elements(css = "institution svelte-173w1yv") |> html_text()
schools
schools <- page |> html_elements(xpath = "institution svelte-173w1yv") |> html_text()
schools <- page |> html_elements(css = "institution svelte-173w1yv")
schools
schools <- page |> html_element(css =  "institution svelte-173w1yv")
schools <- page |> html_element(css =  "institution svelte-173w1yv");schools
schools <- page |> html_element(xpath =  "institution svelte-173w1yv");schools
schools <- page |> html_table("institution svelte-173w1yv");schools
schools <- page |> html_node('institution svelte-173w1yv');schools
schools <- page |> html_elements('.institution');schools
library(RSelenium)
install.packages('RSelenium')
library(RSelenium)
# Start headless browser
driver <- rsDriver(browser = "chrome", headless = TRUE)
remote_driver$navigate("https://www.nytimes.com/2025/05/23/upshot/harvard-trump-international-students.html")
remote_driver <- driver$client
driver <- rsDriver(browser = "chrome", headless = TRUE)
# Start headless browser
driver <- rsDriver(browser = "chrome")
# Start headless browser
driver <- rsDriver()
schools <- page |> html_node('.institution svelte-173w1yv');schools
schools <- page |> html_nodes('.institution svelte-173w1yv');schools
schools <- page |> html_nodes('institution svelte-173w1yv');schools
schools <- page |> html_nodes('institution');schools
page |> html_nodes('institution'
)
schools <- page |> html_attr();schools
schools <- page |> html_node('.institution svelte-173w1yv') |> html_attr("class")
schools
schools <- page |> html_node('institution svelte-173w1yv') |> html_attr("class")
schools
schools <- page |> html_node('svelte-173w1yv') |> html_attr("class")
schools
schools <- page |> html_node('.institution svelte-173w1yv') |> html_text()
schools
# Or if you want the text content instead of an attribute:
schools <- page |> html_node('institution svelte-173w1yv') |> html_text()
schools
# Or if you want the text content instead of an attribute:
schools <- page |> html_node('svelte-173w1yv') |> html_text()
schools
# Or if you want the text content instead of an attribute:
schools <- page |> html_nodes('svelte-173w1yv') |> html_text()
schools
list.files()
reticulate::repl_python()
